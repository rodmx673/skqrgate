<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bienvenido - QR Gate</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-900 min-h-screen flex items-center justify-center p-4 text-center">
    
    <div class="bg-white p-10 rounded-[2.5rem] shadow-2xl w-full max-w-lg transform transition-all animate-in fade-in zoom-in duration-500">
        <div class="mb-2">
            <span class="text-5xl">üõ°Ô∏è</span>
            <h1 class="text-4xl font-black text-blue-600 italic tracking-tighter mt-2">QR GATE SKOOL</h1>
        </div>
        <p class="text-slate-500 mb-10 font-medium">Sistema Inteligente de Control Escolar</p>

        <div class="grid grid-cols-1 gap-4">
            <a href="login.html" class="bg-blue-600 text-white p-5 rounded-2xl font-black text-xl hover:bg-blue-700 transition-all shadow-lg active:scale-95 transform">
                INICIAR SESI√ìN
            </a>
            
            <a href="registro.html" class="bg-slate-50 text-slate-700 p-5 rounded-2xl font-bold text-lg hover:bg-slate-100 transition-all border-2 border-slate-200 active:scale-95 transform">
                CREAR UNA CUENTA
            </a>
        </div>
        
        <div class="mt-10 pt-6 border-t border-slate-100">
            <p class="text-[10px] text-slate-400 uppercase tracking-widest font-black">Uso exclusivo institucional</p>
            <p class="text-[9px] text-slate-300 mt-2">V30.0 - 2026</p>
        </div>
    </div>

    <script>
        // L√ìGICA DE AUTO-REDIRECCI√ìN PROFESIONAL
        window.onload = () => {
            try {
                const sessionData = localStorage.getItem('userSession');
                if (!sessionData) return;

                const session = JSON.parse(sessionData);
                
                if (session && session.rol) {
                    console.log("Sesi√≥n activa detectada para:", session.rol);
                    
                    // Redirecci√≥n basada en el rol guardado en el navegador
                    switch(session.rol) {
                        case 'Director':
                            // Redirigir al monitor principal del director
                            window.location.replace('monitor-director.html');
                            break;
                        case 'Tutor':
                            window.location.replace('dashboard-tutor.html');
                            break;
                        case 'Alumno':
                            window.location.replace('dashboard-alumno.html');
                            break;
                        default:
                            console.log("Rol no reconocido");
                            break;
                    }
                }
            } catch (e) {
                console.error("Error en redirecci√≥n:", e);
                localStorage.removeItem('userSession'); // Limpiar si hay datos corruptos
            }
        };
    </script>
</body>
</html>